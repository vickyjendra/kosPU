@model IEnumerable<kosPU.Models.kosan>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/View1.cshtml";
}
<link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' />
<script src="https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.js"></script>
<main>
    <div class="row">
        <div class="col-12">
            <div class="card mb-1">

                <div class="card-body px-1 pt-1 pb-1">

                    <div id='map' style='width: 1040px; height: 380px; margin: 0 auto;'>

                    </div>

                </div>
            </div>
        </div>
    </div>



</main>
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.css" type="text/css">
@*<center>

        <img src="~/additional-file/images/kosandeket pu.PNG" class="img-fluid" alt="Responsive image" width="900" />

    </center>*@
<hr />
<center>

    <h3>
        <b>
            AVAILABLE NOW

        </b>
    </h3>

</center>
<div class="container">
    <div class="row">

        @foreach (var item in Model)
        {
        <div class="col-3">
            <div class="card" style="width: 13rem;">
                <img class="card-img-top" src="~/additional-file/images/kosangandi1.PNG" alt="Card image cap">
                <div class="card-body">
                    <center>
                        <h5 class="card-title">@item.kost_name</h5>
                        <p class="card-text">RP.@item.kost_price/Bulan.</p>
                        <a href="@Url.Action("Detail",  new { kost_id = item.kost_id })" class="btn btn-primary">Detail</a>
                    </center>
                </div>
            </div>
        </div>
                }
            </div>
        </div>
<script src='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js'></script>

<script>
    mapboxgl.accessToken = 'pk.eyJ1Ijoidmlja3lqbmQiLCJhIjoiY2w5ZjVxNWl6MG5ydjNybXlka3FuY2ZoNCJ9.ZnazGQ7N4dEDKgQxMqYiHA';
    const map = new mapboxgl.Map({
        container: 'map',
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [107.1704454149077, -6.28508748351949],
        zoom: 15
    });
   
    map.addControl(
        new MapboxDirections({
            accessToken: mapboxgl.accessToken
        }),
        'top-left'
        );
      
    // Create a new marker.    
    var arrayMarker = [];
    @foreach(var item in Model)
    {

        //arrayMarker.push(marker2);*@
        <text > const marker2 = new mapboxgl.Marker().setLngLat([@item.kost_location]).setPopup(new mapboxgl.Popup().setHTML("@item.kost_name")).addTo(map);</text>
    }


</script>

